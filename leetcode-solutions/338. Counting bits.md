## 338 Counting bits

- 定义一个数组`dp`,`dp[i]`存储`i`的二进制位中`1`的位数。

下面来看状态转移公式：
- 对于一个数`x`,假设其二进制表达形式为`111110100`,那么其中`1`出现的个数为`y=111110000`中出现1的个数加`1`。  
- 而`y`即为`x`中从低位往高位数，第一个`1`出现时，将其更高位不变，其余位变为`0`的结果。

- 怎么样得到`y`呢？如果其最后一位为`1`,直接`x-1`即可；如果最后一位为`0`，减去`1`后该位变为`1`，且前面的0均变为`1`,直到第一个`1`出现：这个`1`变为`0`，其其余更高位不变。
- 根据这个规律，`y=x&(x-1)`。


```python
class Solution:
    def countBits(self, num: int) -> List[int]:
        if num==0:
            return [0]
        if num==1:
            return [0,1]
        dp=[0]*(num+1)
        dp[1]=1
        for i in range(2,num+1):
            dp[i]=dp[i&(i-1)]+1
            
        return dp

```